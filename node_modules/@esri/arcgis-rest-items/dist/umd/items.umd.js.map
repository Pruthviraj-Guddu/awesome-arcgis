{"version":3,"file":"items.umd.js","sources":["../../src/helpers.ts","../../src/add.ts","../../src/create.ts","../../src/get.ts","../../src/protect.ts","../../src/remove.ts","../../src/search.ts","../../src/update.ts","../../src/index.ts"],"sourcesContent":["/* Copyright (c) 2017-2018 Environmental Systems Research Institute, Inc.\n * Apache-2.0 */\n\nimport { IRequestOptions } from \"@esri/arcgis-rest-request\";\n\nimport { IItemAdd, IItemUpdate, IItem } from \"@esri/arcgis-rest-common-types\";\n\nimport { IUserRequestOptions } from \"@esri/arcgis-rest-auth\";\n\nexport interface IItemRequestOptions extends IUserRequestOptions {\n  item: IItem;\n}\n\nexport interface IItemIdRequestOptions extends IUserRequestOptions {\n  /**\n   * Unique identifier of the item.\n   */\n  id: string;\n  /**\n   * Item owner username. If not present, `authentication.username` is utilized.\n   */\n  owner?: string;\n}\n\nexport interface IFolderIdRequestOptions extends IUserRequestOptions {\n  /**\n   * Unique identifier of the folder.\n   */\n  folderId: string;\n  /**\n   * Item owner username. If not present, `authentication.username` is utilized.\n   */\n  owner?: string;\n}\n\nexport type ItemRelationshipType =\n  | \"Map2Service\"\n  | \"WMA2Code\"\n  | \"Map2FeatureCollection\"\n  | \"MobileApp2Code\"\n  | \"Service2Data\"\n  | \"Service2Service\"\n  | \"Map2AppConfig\"\n  | \"Item2Attachment\"\n  | \"Item2Report\"\n  | \"Listed2Provisioned\"\n  | \"Style2Style\"\n  | \"Service2Style\"\n  | \"Survey2Service\"\n  | \"Survey2Data\"\n  | \"Service2Route\"\n  | \"Area2Package\"\n  | \"Map2Area\"\n  | \"Service2Layer\"\n  | \"Area2CustomPackage\";\n\nexport interface IItemRelationshipRequestOptions extends IRequestOptions {\n  /**\n   * Id of the item.\n   */\n  id: string;\n  /**\n   * The type of relationship between the two items.\n   */\n  relationshipType: ItemRelationshipType | ItemRelationshipType[];\n  /**\n   * The direction of the relationship. Either forward (from origin -> destination) or reverse (from destination -> origin).\n   */\n  direction?: \"forward\" | \"reverse\";\n}\n\nexport interface IManageItemRelationshipRequestOptions\n  extends IUserRequestOptions {\n  originItemId: string;\n  destinationItemId: string;\n  relationshipType: ItemRelationshipType;\n}\n\nexport interface IItemResourceRequestOptions extends IItemIdRequestOptions {\n  /**\n   * New resource filename.\n   */\n  name?: string;\n  /**\n   * Text input to be added as a file resource.\n   */\n  content?: string;\n  /**\n   * Controls whether access to the file resource is restricted to the owner or inherited from the sharing permissions set for the associated item.\n   */\n  private?: boolean;\n  resource?: any;\n}\n\nexport interface IItemCrudRequestOptions extends IUserRequestOptions {\n  /**\n   * The owner of the item. If this property is not present, `item.owner` will be passed, or lastly `authentication.username`.\n   */\n  owner?: string;\n  /**\n   * Id of the folder to house the item.\n   */\n  folder?: string;\n}\n\nexport interface IItemDataRequestOptions extends IRequestOptions {\n  /**\n   * Used to request binary data.\n   */\n  file?: boolean;\n}\n\nexport interface IItemUpdateResponse {\n  success: boolean;\n  id: string;\n}\n\nexport interface IItemAddResponse extends IItemUpdateResponse {\n  folder: string;\n}\n\nexport interface IItemResourceResponse {\n  success: boolean;\n  itemId: string;\n  owner: string;\n  folder: string;\n}\n\nexport interface IAddFolderResponse {\n  /**\n   * Success or failure of request.\n   */\n  success: boolean;\n  /**\n   * Information about created folder: its alphanumeric id, name, and owner's name.\n   */\n  folder: {\n    id: string;\n    title: string;\n    username: string;\n  };\n}\n\nexport interface IItemMoveResponse {\n  /**\n   * Success or failure of request.\n   */\n  success: boolean;\n  /**\n   * Alphanumeric id of moved item.\n   */\n  itemId: string;\n  /**\n   * Name of owner of item.\n   */\n  owner: string;\n  /**\n   * Alphanumeric id of folder now housing item.\n   */\n  folder: string;\n}\n\n/**\n * Serialize an item and its data into a json format accepted by the Portal API for create and update operations\n *\n * @param item Item to be serialized\n * @returns a formatted json object to be sent to Portal\n */\nexport function serializeItem(item: IItemAdd | IItemUpdate | IItem): any {\n  // create a clone so we're not messing with the original\n  const clone = JSON.parse(JSON.stringify(item));\n\n  // convert .data to .text\n  if (clone.data) {\n    clone.text = clone.data;\n    delete clone.data;\n  }\n\n  return clone;\n}\n\n/**\n * requestOptions.owner is given priority, requestOptions.item.owner will be checked next. If neither are present, authentication.username will be assumed.\n */\nexport function determineOwner(requestOptions: any): string {\n  if (requestOptions.owner) {\n    return requestOptions.owner;\n  }\n  if (requestOptions.item && requestOptions.item.owner) {\n    return requestOptions.item.owner;\n  } else {\n    return requestOptions.authentication.username;\n  }\n}\n","/* Copyright (c) 2018 Environmental Systems Research Institute, Inc.\n * Apache-2.0 */\n\nimport {\n  request,\n  getPortalUrl,\n  appendCustomParams\n} from \"@esri/arcgis-rest-request\";\n\nimport {\n  IItemIdRequestOptions,\n  IItemResourceRequestOptions,\n  IItemAddResponse,\n  IItemResourceResponse,\n  determineOwner,\n  IManageItemRelationshipRequestOptions\n} from \"./helpers\";\n\nexport interface IItemDataAddRequestOptions extends IItemIdRequestOptions {\n  /**\n   * Object to store\n   */\n  data: any;\n}\n\nexport interface IItemResourceAddRequestOptions\n  extends IItemResourceRequestOptions {\n  /**\n   * Object to store\n   */\n  resource: any;\n}\n\n/**\n * ```js\n * import { addItemJsonData } from '@esri/arcgis-rest-items';\n * //\n * addItemJsonData({\n *   id: '3ef',\n *   data: {}\n *   authentication\n * })\n *   .then(response)\n * ```\n * Send json to an item to be stored as the `/data` resource. See the [REST Documentation](https://developers.arcgis.com/rest/users-groups-and-items/update-item.htm) for more information.\n *\n * @param requestOptions - Options for the request\n * @returns A Promise that will resolve with an object reporting\n *        success/failure and echoing the item id.\n */\nexport function addItemJsonData(\n  requestOptions: IItemDataAddRequestOptions\n): Promise<IItemAddResponse> {\n  const owner = determineOwner(requestOptions);\n  const url = `${getPortalUrl(requestOptions)}/content/users/${owner}/items/${\n    requestOptions.id\n  }/update`;\n\n  // Portal API requires that the 'data' be stringified and POSTed in\n  // a `text` form field. It can also be sent with the `.create` call by sending\n  // a `.data` property.\n  requestOptions.params = {\n    text: requestOptions.data,\n    ...requestOptions.params\n  };\n\n  return request(url, requestOptions);\n}\n\n/**\n * ```js\n * import { addItemData } from '@esri/arcgis-rest-items';\n * //\n * addItemData({\n *   id: '3ef',\n *   data: file,\n *   authentication\n * })\n *   .then(response)\n * ```\n * Send a file or blob to an item to be stored as the `/data` resource. See the [REST Documentation](https://developers.arcgis.com/rest/users-groups-and-items/update-item.htm) for more information.\n *\n * @param requestOptions - Options for the request\n * @returns A Promise that will resolve with an object reporting\n *        success/failure and echoing the item id.\n */\nexport function addItemData(\n  requestOptions: IItemDataAddRequestOptions\n): Promise<IItemAddResponse> {\n  const owner = determineOwner(requestOptions);\n\n  const url = `${getPortalUrl(requestOptions)}/content/users/${owner}/items/${\n    requestOptions.id\n  }/update`;\n\n  // Portal API requires that the 'data' be POSTed in a `file` form field.\n  requestOptions.params = {\n    file: requestOptions.data,\n    ...requestOptions.params\n  };\n\n  return request(url, requestOptions);\n}\n\n/**\n * ```js\n * import { addItemRelationship } from '@esri/arcgis-rest-items';\n * //\n * addItemRelationship({\n *   originItemId: '3ef',\n *   destinationItemId: 'ae7',\n *   relationshipType: 'Service2Layer',\n *   authentication\n * })\n *   .then(response)\n * ```\n * Add a relationship between two items. See the [REST Documentation](https://developers.arcgis.com/rest/users-groups-and-items/add-relationship.htm) for more information.\n *\n * @param requestOptions - Options for the request\n * @returns A Promise to add item resources.\n */\nexport function addItemRelationship(\n  requestOptions: IManageItemRelationshipRequestOptions\n): Promise<{ success: boolean }> {\n  const owner = determineOwner(requestOptions);\n  const url = `${getPortalUrl(\n    requestOptions\n  )}/content/users/${owner}/addRelationship`;\n\n  const options = { params: {}, ...requestOptions };\n  appendCustomParams(requestOptions, options);\n\n  return request(url, options);\n}\n\n/**\n * ```js\n * import { addItemResource } from '@esri/arcgis-rest-items';\n * //\n * addItemResource({\n *   id: '3ef',\n *   resource: file,\n *   name: 'bigkahuna.jpg',\n *   authentication\n * })\n *   .then(response)\n * ```\n * Add a resource associated with an item. See the [REST Documentation](https://developers.arcgis.com/rest/users-groups-and-items/add-resources.htm) for more information.\n *\n * @param requestOptions - Options for the request\n * @returns A Promise to add item resources.\n */\nexport function addItemResource(\n  requestOptions: IItemResourceAddRequestOptions\n): Promise<IItemResourceResponse> {\n  const owner = determineOwner(requestOptions);\n  const url = `${getPortalUrl(requestOptions)}/content/users/${owner}/items/${\n    requestOptions.id\n  }/addResources`;\n\n  requestOptions.params = {\n    file: requestOptions.resource,\n    fileName: requestOptions.name,\n    text: requestOptions.content,\n    access: requestOptions.private ? \"private\" : \"inherit\",\n    ...requestOptions.params\n  };\n\n  return request(url, requestOptions);\n}\n","/* Copyright (c) 2018 Environmental Systems Research Institute, Inc.\n * Apache-2.0 */\n\nimport { request, getPortalUrl } from \"@esri/arcgis-rest-request\";\n\nimport { IItemAdd } from \"@esri/arcgis-rest-common-types\";\n\nimport {\n  IAddFolderResponse,\n  IItemAddResponse,\n  IItemCrudRequestOptions,\n  serializeItem,\n  determineOwner\n} from \"./helpers\";\n\nexport interface IAddFolderRequestOptions extends IItemCrudRequestOptions {\n  /**\n   * Name of the folder to create.\n   */\n  title: string;\n}\n\nexport interface IItemAddRequestOptions extends IItemCrudRequestOptions {\n  item: IItemAdd;\n}\n\n/**\n * ```js\n * import { createFolder } from '@esri/arcgis-rest-items';\n * //\n * createFolder({\n *   title: 'Map Collection',\n *   authentication: userSession\n * })\n *   .then(response)\n * ```\n * Create a folder. See the [REST Documentation](https://developers.arcgis.com/rest/users-groups-and-items/create-folder.htm) for more information.\n *\n * @param requestOptions - Options for the request\n * @returns A Promise that resolves with folder details once the folder has been created\n */\nexport function createFolder(\n  requestOptions: IAddFolderRequestOptions\n): Promise<IAddFolderResponse> {\n  const owner = determineOwner(requestOptions);\n\n  const baseUrl = `${getPortalUrl(requestOptions)}/content/users/${owner}`;\n  const url = `${baseUrl}/createFolder`;\n\n  requestOptions.params = {\n    title: requestOptions.title,\n    ...requestOptions.params\n  };\n\n  return request(url, requestOptions);\n}\n\n/**\n * ```js\n * import { createItemInFolder } from '@esri/arcgis-rest-items';\n * //\n * createItem({\n *   item: {\n *     title: \"The Amazing Voyage\",\n *     type: \"Web Map\",\n *     data: {}\n *   },\n *   folder: 'underwater',\n *   authentication\n * })\n * ```\n * Create an item in a folder. See the [REST Documentation](https://developers.arcgis.com/rest/users-groups-and-items/add-item.htm) for more information.\n *\n * @param requestOptions = Options for the request\n */\nexport function createItemInFolder(\n  requestOptions: IItemAddRequestOptions\n): Promise<IItemAddResponse> {\n  const owner = determineOwner(requestOptions);\n\n  const baseUrl = `${getPortalUrl(requestOptions)}/content/users/${owner}`;\n  let url = `${baseUrl}/addItem`;\n\n  if (requestOptions.folder) {\n    url = `${baseUrl}/${requestOptions.folder}/addItem`;\n  }\n\n  // serialize the item into something Portal will accept\n  requestOptions.params = {\n    ...requestOptions.params,\n    ...serializeItem(requestOptions.item)\n  };\n\n  return request(url, requestOptions);\n}\n\n/**\n * ```js\n * import { createItem } from '@esri/arcgis-rest-items';\n * //\n * createItem({\n *   item: {\n *     title: \"The Amazing Voyage\",\n *     type: \"Web Map\",\n *     data: {}\n *   },\n *   authentication\n * })\n * ```\n * Create an Item in the user's root folder. See the [REST Documentation](https://developers.arcgis.com/rest/users-groups-and-items/add-item.htm) for more information.\n *\n * @param requestOptions - Options for the request\n * @returns A Promise that creates an item.\n */\nexport function createItem(\n  requestOptions: IItemAddRequestOptions\n): Promise<IItemAddResponse> {\n  // delegate to createItemInFolder placing in the root of the filestore\n  const options = {\n    folder: null,\n    ...requestOptions\n  } as IItemAddRequestOptions;\n  return createItemInFolder(options);\n}\n","/* Copyright (c) 2018 Environmental Systems Research Institute, Inc.\n * Apache-2.0 */\n\nimport {\n  request,\n  IRequestOptions,\n  getPortalUrl\n} from \"@esri/arcgis-rest-request\";\n\nimport { IItem, IGroup } from \"@esri/arcgis-rest-common-types\";\n\nimport {\n  IItemIdRequestOptions,\n  IItemDataRequestOptions,\n  IItemRelationshipRequestOptions\n} from \"./helpers\";\n\n/**\n * ```\n * import { getItem } from \"@esri/arcgis-rest-items\";\n * //\n * getItem(\"ae7\")\n *   .then(response);\n * // or\n * getItem(\"ae7\", { authentication })\n *   .then(response)\n * ```\n * Get an item by id. See the [REST Documentation](https://developers.arcgis.com/rest/users-groups-and-items/item.htm) for more information.\n *\n * @param id - Item Id\n * @param requestOptions - Options for the request\n * @returns A Promise that will resolve with the data from the response.\n */\nexport function getItem(\n  id: string,\n  requestOptions?: IRequestOptions\n): Promise<IItem> {\n  const url = `${getPortalUrl(requestOptions)}/content/items/${id}`;\n\n  // default to a GET request\n  const options: IRequestOptions = {\n    ...{ httpMethod: \"GET\" },\n    ...requestOptions\n  };\n  return request(url, options);\n}\n\n/**\n * ```\n * import { getItemData } from \"@esri/arcgis-rest-items\";\n * //\n * getItemData(\"ae7\")\n *   .then(response)\n * // or\n * getItemData(\"ae7\", { authentication })\n *   .then(response)\n * ```\n * Get the /data for an item. See the [REST Documentation](https://developers.arcgis.com/rest/users-groups-and-items/item-data.htm) for more information.\n * @param id - Item Id\n * @param requestOptions - Options for the request\n * @returns A Promise that will resolve with the json data for the item.\n */\nexport function getItemData(\n  id: string,\n  requestOptions?: IItemDataRequestOptions\n): Promise<any> {\n  const url = `${getPortalUrl(requestOptions)}/content/items/${id}/data`;\n  // default to a GET request\n  const options: IItemDataRequestOptions = {\n    ...{ httpMethod: \"GET\", params: {} },\n    ...requestOptions\n  };\n\n  if (options.file) {\n    options.params.f = null;\n  }\n\n  return request(url, options);\n}\n\nexport interface IGetRelatedItemsResponse {\n  total: number;\n  relatedItems: IItem[];\n}\n\n/**\n * ```\n * import { getRelatedItems } from \"@esri/arcgis-rest-items\";\n * //\n * getRelatedItems({\n *   id: \"ae7\",\n *   relationshipType: \"Service2Layer\" // or several [\"Service2Layer\", \"Map2Area\"]\n * })\n *   .then(response)\n * ```\n * Get the related items. See the [REST Documentation](https://developers.arcgis.com/rest/users-groups-and-items/related-items.htm) for more information.\n *\n * @param requestOptions - Options for the request\n * @returns A Promise to get some item resources.\n */\nexport function getRelatedItems(\n  requestOptions: IItemRelationshipRequestOptions\n): Promise<IGetRelatedItemsResponse> {\n  const url = `${getPortalUrl(requestOptions)}/content/items/${\n    requestOptions.id\n  }/relatedItems`;\n\n  const options: IItemRelationshipRequestOptions = {\n    httpMethod: \"GET\",\n    params: {\n      direction: requestOptions.direction\n    },\n    ...requestOptions\n  };\n\n  if (typeof requestOptions.relationshipType === \"string\") {\n    options.params.relationshipType = requestOptions.relationshipType;\n  } else {\n    options.params.relationshipTypes = requestOptions.relationshipType;\n  }\n\n  delete options.direction;\n  delete options.relationshipType;\n\n  return request(url, options);\n}\n\n/**\n * Get the resources associated with an item\n *\n * @param requestOptions - Options for the request\n * @returns A Promise to get some item resources.\n */\nexport function getItemResources(\n  requestOptions: IItemIdRequestOptions\n): Promise<any> {\n  const url = `${getPortalUrl(requestOptions)}/content/items/${\n    requestOptions.id\n  }/resources`;\n\n  // mix in user supplied params\n  requestOptions.params = {\n    ...requestOptions.params,\n    num: 1000\n  };\n  // at v2, the argument signature of this method should match getItemData() and getItemGroups() if requests can be made anonymously\n  return request(url, requestOptions);\n}\n\nexport interface IItemGroupResponse {\n  admin?: IGroup[];\n  member?: IGroup[];\n  other?: IGroup[];\n}\n\n/**\n * ```js\n * import { getItemGroups } from \"@esri/arcgis-rest-items\";\n * //\n * getItemGroups(\"30e5fe3149c34df1ba922e6f5bbf808f\")\n *   .then(response)\n * ```\n * Lists the groups of which the item is a part, only showing the groups that the calling user can access. See the [REST Documentation](https://developers.arcgis.com/rest/users-groups-and-items/groups.htm) for more information.\n *\n * @param id - The Id of the item to query group association for.\n * @param requestOptions - Options for the request\n * @returns A Promise to get some item groups.\n */\nexport function getItemGroups(\n  id: string,\n  requestOptions?: IRequestOptions\n): Promise<IItemGroupResponse> {\n  const url = `${getPortalUrl(requestOptions)}/content/items/${id}/groups`;\n\n  return request(url, requestOptions);\n}\n","/* Copyright (c) 2018 Environmental Systems Research Institute, Inc.\n * Apache-2.0 */\n\nimport { request, getPortalUrl } from \"@esri/arcgis-rest-request\";\n\nimport { IItemIdRequestOptions, determineOwner } from \"./helpers\";\n\n/**\n * Protect an item. See the [REST Documentation](https://developers.arcgis.com/rest/users-groups-and-items/protect.htm) for more information.\n *\n * @param requestOptions - Options for the request\n * @returns A Promise to protect an item.\n */\nexport function protectItem(\n  requestOptions: IItemIdRequestOptions\n): Promise<any> {\n  const owner = determineOwner(requestOptions);\n  const url = `${getPortalUrl(requestOptions)}/content/users/${owner}/items/${\n    requestOptions.id\n  }/protect`;\n  return request(url, requestOptions);\n}\n\n/**\n * Unprotect an item. See the [REST Documentation](https://developers.arcgis.com/rest/users-groups-and-items/unprotect.htm) for more information.\n *\n * @param requestOptions - Options for the request\n * @returns A Promise to unprotect an item.\n */\nexport function unprotectItem(\n  requestOptions: IItemIdRequestOptions\n): Promise<any> {\n  const owner = determineOwner(requestOptions);\n  const url = `${getPortalUrl(requestOptions)}/content/users/${owner}/items/${\n    requestOptions.id\n  }/unprotect`;\n  return request(url, requestOptions);\n}\n","/* Copyright (c) 2018 Environmental Systems Research Institute, Inc.\n * Apache-2.0 */\n\nimport { request, getPortalUrl, appendCustomParams } from \"@esri/arcgis-rest-request\";\n\nimport {\n  IItemIdRequestOptions,\n  IItemResourceRequestOptions,\n  IFolderIdRequestOptions,\n  determineOwner,\n  IManageItemRelationshipRequestOptions\n} from \"./helpers\";\n\n/**\n * ```js\n * import { removeItem } from '@esri/arcgis-rest-items';\n * //\n * removeItem({\n *   id: \"3ef\",\n *   authentication\n * })\n * ```\n * Delete an item from the portal. See the [REST Documentation](https://developers.arcgis.com/rest/users-groups-and-items/delete-item.htm) for more information.\n *\n * @param requestOptions - Options for the request\n * @returns A Promise that deletes an item.\n */\nexport function removeItem(\n  requestOptions: IItemIdRequestOptions\n): Promise<any> {\n  const owner = determineOwner(requestOptions);\n  const url = `${getPortalUrl(requestOptions)}/content/users/${owner}/items/${\n    requestOptions.id\n  }/delete`;\n  return request(url, requestOptions);\n}\n\n/**\n * ```js\n * import { removeItemRelationship } from '@esri/arcgis-rest-items';\n * //\n * removeItemRelationship({\n *   originItemId: '3ef',\n *   destinationItemId: 'ae7',\n *   relationshipType: 'Service2Layer',\n *   authentication\n * })\n *   .then(response)\n * ```\n * Remove a relationship between two items. See the [REST Documentation](https://developers.arcgis.com/rest/users-groups-and-items/delete-relationship.htm) for more information.\n *\n * @param requestOptions - Options for the request\n * @returns A Promise to add item resources.\n */\nexport function removeItemRelationship(\n  requestOptions: IManageItemRelationshipRequestOptions\n): Promise<{ \"success\": boolean }> {\n  const owner = determineOwner(requestOptions);\n  const url = `${getPortalUrl(requestOptions)}/content/users/${owner}/removeRelationship`;\n\n  const options = { params: {}, ...requestOptions }\n  appendCustomParams(requestOptions, options);\n\n  return request(url, options);\n}\n\n/**\n * Remove a resource associated with an item\n *\n * @param requestOptions - Options for the request\n * @returns A Promise that deletes an item resource.\n */\nexport function removeItemResource(\n  requestOptions: IItemResourceRequestOptions\n): Promise<any> {\n  const owner = determineOwner(requestOptions);\n  const url = `${getPortalUrl(requestOptions)}/content/users/${owner}/items/${\n    requestOptions.id\n  }/removeResources`;\n\n  // mix in user supplied params\n  requestOptions.params = {\n    ...requestOptions.params,\n    resource: requestOptions.resource\n  };\n  return request(url, requestOptions);\n}\n\n/**\n * ```js\n * import { removeFolder } from \"@esri/arcgis-rest-items\";\n * //\n * removeFolder({\n *   folderId: \"fe4\",\n *   owner: \"c@sey\",\n *   authentication\n * })\n *   .then(response)\n *\n * ```\n * Delete a non-root folder and all the items it contains. See the [REST\n * Documentation](https://developers.arcgis.com/rest/users-groups-and-items/delete-folder.htm) for\n * more information.\n *\n * @param requestOptions - Options for the request\n * @returns A Promise that deletes a folder\n */\nexport function removeFolder(\n  requestOptions: IFolderIdRequestOptions\n): Promise<{\n  success: boolean;\n  folder: {\n    username: string;\n    id: string;\n    title: string;\n  };\n}> {\n  const owner = determineOwner(requestOptions);\n  const url = `${getPortalUrl(\n    requestOptions\n  )}/content/users/${encodeURIComponent(owner)}/${\n    requestOptions.folderId\n  }/delete`;\n  return request(url, requestOptions);\n}\n","/* Copyright (c) 2018 Environmental Systems Research Institute, Inc.\n * Apache-2.0 */\n\nimport {\n  request,\n  IRequestOptions,\n  getPortalUrl\n} from \"@esri/arcgis-rest-request\";\n\nimport { IPagingParams, IItem } from \"@esri/arcgis-rest-common-types\";\n\n// this interface still needs to be docced\nexport interface ISearchRequest extends IPagingParams {\n  q: string;\n  [key: string]: any;\n}\n\nexport interface ISearchRequestOptions extends IRequestOptions {\n  searchForm?: ISearchRequest;\n}\n\n/**\n * Options to pass through when searching for items.\n */\nexport interface ISearchResult {\n  query: string; // matches the api's form param\n  total: number;\n  start: number;\n  num: number;\n  nextStart: number;\n  results: IItem[];\n}\n\n/**\n * ```js\n * import { searchItems } from '@esri/arcgis-rest-items';\n * //\n * searchItems('water')\n *   .then(response) // response.total => 355\n * ```\n * Search a portal for items. See the [REST Documentation](https://developers.arcgis.com/rest/users-groups-and-items/search.htm) for more information.\n *\n * @param search - A string or RequestOptions object to pass through to the endpoint.\n * @returns A Promise that will resolve with the data from the response.\n */\nexport function searchItems(\n  search: string | ISearchRequestOptions\n): Promise<ISearchResult> {\n  let options: ISearchRequestOptions = {\n    httpMethod: \"GET\",\n    params: {}\n  };\n\n  if (typeof search === \"string\") {\n    options.params.q = search;\n  } else {\n    // mixin user supplied requestOptions with defaults\n    options = {\n      ...options,\n      ...search\n    };\n\n    // mixin arbitrary request parameters with search form\n    options.params = {\n      ...search.params,\n      ...search.searchForm\n    };\n  }\n\n  // construct the search url\n  const url = `${getPortalUrl(options)}/search`;\n\n  // send the request\n  return request(url, options);\n}\n","/* Copyright (c) 2018 Environmental Systems Research Institute, Inc.\n * Apache-2.0 */\n\nimport { request, getPortalUrl } from \"@esri/arcgis-rest-request\";\n\nimport { IItemUpdate } from \"@esri/arcgis-rest-common-types\";\n\nimport {\n  IItemCrudRequestOptions,\n  IItemMoveResponse,\n  IItemResourceRequestOptions,\n  IItemUpdateResponse,\n  serializeItem,\n  determineOwner\n} from \"./helpers\";\n\nexport interface IItemUpdateRequestOptions extends IItemCrudRequestOptions {\n  item: IItemUpdate;\n}\n\nexport interface IItemMoveRequestOptions extends IItemCrudRequestOptions {\n  /**\n   * Alphanumeric id of item to be moved.\n   */\n  itemId: string;\n  /**\n   * Alphanumeric id of folder to house moved item. If null, empty, or \"/\", the destination is the\n   * root folder.\n   */\n  folderId?: string;\n}\n\n/**\n * ```js\n * import { updateItem } from '@esri/arcgis-rest-items';\n * //\n * updateItem({\n *   item: {\n *     id: \"3ef\",\n *     description: \"A three hour tour\"\n *   },\n *   authentication\n * })\n *   .then(response)\n * ```\n * Update an Item. See the [REST Documentation](https://developers.arcgis.com/rest/users-groups-and-items/update-item.htm) for more information.\n *\n * @param item - The item to update.\n * @param requestOptions - Options for the request.\n * @returns A Promise that updates an item.\n */\nexport function updateItem(\n  requestOptions: IItemUpdateRequestOptions\n): Promise<IItemUpdateResponse> {\n  const owner = determineOwner(requestOptions);\n  const url = `${getPortalUrl(requestOptions)}/content/users/${owner}/items/${\n    requestOptions.item.id\n  }/update`;\n\n  // serialize the item into something Portal will accept\n  requestOptions.params = {\n    ...requestOptions.params,\n    ...serializeItem(requestOptions.item)\n  };\n\n  return request(url, requestOptions);\n}\n\n/**\n * ```js\n * import { updateItemResource } from '@esri/arcgis-rest-items';\n * //\n * updateItemResource({\n *   id: '3ef',\n *   resource: file,\n *   name: 'bigkahuna.jpg',\n *   authentication\n * })\n *   .then(response)\n * ```\n * Update a resource associated with an item. See the [REST Documentation](https://developers.arcgis.com/rest/users-groups-and-items/update-resources.htm) for more information.\n *\n * @param requestOptions - Options for the request\n * @returns A Promise that updates an item resource.\n */\nexport function updateItemResource(\n  requestOptions: IItemResourceRequestOptions\n): Promise<any> {\n  const owner = determineOwner(requestOptions);\n  const url = `${getPortalUrl(requestOptions)}/content/users/${owner}/items/${\n    requestOptions.id\n  }/updateResources`;\n\n  // mix in user supplied params\n  requestOptions.params = {\n    file: requestOptions.resource,\n    fileName: requestOptions.name,\n    text: requestOptions.content,\n    ...requestOptions.params\n  };\n\n  // only override whatever access was specified previously if 'private' was passed explicitly\n  if (typeof requestOptions.private !== \"undefined\") {\n    requestOptions.params.access = requestOptions.private\n      ? \"private\"\n      : \"inherit\";\n  }\n\n  return request(url, requestOptions);\n}\n\n/**\n * ```js\n * import { moveItem } from '@esri/arcgis-rest-items';\n * //\n * moveItem({\n *   itemId: \"3ef\",\n *   folderId: \"7c5\",\n *   authentication: userSession\n * })\n * ```\n * Move an item to a folder. See the [REST Documentation](https://developers.arcgis.com/rest/users-groups-and-items/move-item.htm) for more information.\n *\n * @param requestOptions - Options for the request\n * @returns A Promise that resolves with owner and folder details once the move has been completed\n */\nexport function moveItem(\n  requestOptions: IItemMoveRequestOptions\n): Promise<IItemMoveResponse> {\n  const owner = determineOwner(requestOptions);\n  const url = `${getPortalUrl(requestOptions)}/content/users/${owner}/items/${\n    requestOptions.itemId\n  }/move`;\n\n  let folderId = requestOptions.folderId;\n  if (!folderId) {\n    folderId = \"/\";\n  }\n  requestOptions.params = {\n    folder: folderId,\n    ...requestOptions.params\n  };\n\n  return request(url, requestOptions);\n}\n","/* Copyright (c) 2018 Environmental Systems Research Institute, Inc.\n * Apache-2.0 */\n\nexport * from \"./add\";\nexport * from \"./create\";\nexport * from \"./get\";\nexport * from \"./protect\";\nexport * from \"./remove\";\nexport * from \"./search\";\nexport * from \"./update\";\nexport * from \"./helpers\";\n"],"names":["getPortalUrl","request","appendCustomParams","tslib_1.__assign"],"mappings":"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"}